{"id":"uUoH","dependencies":[{"name":"/home/pranav/Project Maps/feature-animation/package.json","includedInParent":true,"mtime":1575650386924},{"name":"/home/pranav/Project Maps/feature-animation/node_modules/roslib/package.json","includedInParent":true,"mtime":1575649358216},{"name":"../core/Topic","loc":{"line":6,"column":20},"parent":"/home/pranav/Project Maps/feature-animation/node_modules/roslib/src/actionlib/SimpleActionServer.js","resolved":"/home/pranav/Project Maps/feature-animation/node_modules/roslib/src/core/Topic.js"},{"name":"../core/Message","loc":{"line":7,"column":22},"parent":"/home/pranav/Project Maps/feature-animation/node_modules/roslib/src/actionlib/SimpleActionServer.js","resolved":"/home/pranav/Project Maps/feature-animation/node_modules/roslib/src/core/Message.js"},{"name":"eventemitter2","loc":{"line":8,"column":28},"parent":"/home/pranav/Project Maps/feature-animation/node_modules/roslib/src/actionlib/SimpleActionServer.js","resolved":"/home/pranav/Project Maps/feature-animation/node_modules/eventemitter2/lib/eventemitter2.js"}],"generated":{"js":"var $uUoH$exports={},$uUoH$var$Topic=$parcel$require(\"uUoH\",\"../core/Topic\"),$uUoH$var$Message=$parcel$require(\"uUoH\",\"../core/Message\"),$uUoH$var$EventEmitter2=$parcel$require(\"uUoH\",\"eventemitter2\").EventEmitter2;function $uUoH$var$SimpleActionServer(e){var s=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.feedbackPublisher=new $uUoH$var$Topic({ros:this.ros,name:this.serverName+\"/feedback\",messageType:this.actionName+\"Feedback\"}),this.feedbackPublisher.advertise();var t=new $uUoH$var$Topic({ros:this.ros,name:this.serverName+\"/status\",messageType:\"actionlib_msgs/GoalStatusArray\"});t.advertise(),this.resultPublisher=new $uUoH$var$Topic({ros:this.ros,name:this.serverName+\"/result\",messageType:this.actionName+\"Result\"}),this.resultPublisher.advertise();var a=new $uUoH$var$Topic({ros:this.ros,name:this.serverName+\"/goal\",messageType:this.actionName+\"Goal\"}),r=new $uUoH$var$Topic({ros:this.ros,name:this.serverName+\"/cancel\",messageType:\"actionlib_msgs/GoalID\"});this.statusMessage=new $uUoH$var$Message({header:{stamp:{secs:0,nsecs:100},frame_id:\"\"},status_list:[]}),this.currentGoal=null,this.nextGoal=null,a.subscribe(function(e){s.currentGoal?(s.nextGoal=e,s.emit(\"cancel\")):(s.statusMessage.status_list=[{goal_id:e.goal_id,status:1}],s.currentGoal=e,s.emit(\"goal\",e.goal))});var o=function(e,s){return!(e.secs>s.secs)&&(e.secs<s.secs||e.nsecs<s.nsecs)};r.subscribe(function(e){0===e.stamp.secs&&0===e.stamp.secs&&\"\"===e.id?(s.nextGoal=null,s.currentGoal&&s.emit(\"cancel\")):(s.currentGoal&&e.id===s.currentGoal.goal_id.id?s.emit(\"cancel\"):s.nextGoal&&e.id===s.nextGoal.goal_id.id&&(s.nextGoal=null),s.nextGoal&&o(s.nextGoal.goal_id.stamp,e.stamp)&&(s.nextGoal=null),s.currentGoal&&o(s.currentGoal.goal_id.stamp,e.stamp)&&s.emit(\"cancel\"))});setInterval(function(){var e=new Date,a=Math.floor(e.getTime()/1e3),r=Math.round(1e9*(e.getTime()/1e3-a));s.statusMessage.header.stamp.secs=a,s.statusMessage.header.stamp.nsecs=r,t.publish(s.statusMessage)},500)}$uUoH$var$SimpleActionServer.prototype.__proto__=$uUoH$var$EventEmitter2.prototype,$uUoH$var$SimpleActionServer.prototype.setSucceeded=function(e){var s=new $uUoH$var$Message({status:{goal_id:this.currentGoal.goal_id,status:3},result:e});this.resultPublisher.publish(s),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit(\"goal\",this.currentGoal.goal)):this.currentGoal=null},$uUoH$var$SimpleActionServer.prototype.sendFeedback=function(e){var s=new $uUoH$var$Message({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:e});this.feedbackPublisher.publish(s)},$uUoH$var$SimpleActionServer.prototype.setPreempted=function(){this.statusMessage.status_list=[];var e=new $uUoH$var$Message({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(e),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit(\"goal\",this.currentGoal.goal)):this.currentGoal=null},$uUoH$exports=$uUoH$var$SimpleActionServer;"},"sourceMaps":null,"error":null,"hash":"49509c634e246b89a6475b4bb4837f54","cacheData":{"env":{},"imports":{"$require$../core/Topic":["../core/Topic","*"],"$require$../core/Message":["../core/Message","*"],"$require$eventemitter2":["eventemitter2","*"]},"exports":{},"wildcards":[],"sideEffects":true,"isCommonJS":true}}